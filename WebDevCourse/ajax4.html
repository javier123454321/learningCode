<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX 4 Ajax & PHP Forms</title>
  </head>
  <body>
    <button type="button" id="butt1" name="button">Get Name</button>
    <hr>
    <h1>PHP Get Form</h1>
    <form method = "GET" action = "process.php">
      <input type="text" name="name">
      <input type="submit" name="submitName" value="Submit">
    </form>

    <hr>
    <h1>PHP AJAX Get Form</h1>
    <form id="getForm">
      <input type="text" name="name" id="nameGetForm">
      <input type="submit" name="submitNameAsync" value="Submit">
    </form>

    <hr>
    <h1>PHP POST Form</h1>
    <form method = "POST" action = "process.php">
      <input type="text" name="name">
      <input type="submit" name="submitName" value="Submit">
    </form>

    <hr>
    <h1>PHP AJAX POST Form</h1>
    <form id="postForm">
      <input type="text" name="name" id="namePostForm">
      <input type="submit" name="submitNameAsync" value="Submit">
    </form>


  </body>

  <script type="text/javascript">
//===================Basic proof of concept functionality=======================
//    function getName(){
//      var xhr = new XMLHttpRequest();
//      xhr.open('GET', 'process.php?name=Brad', true);

//      xhr.onload = function(){
//        console.log(this.responseText);
//      }
//      xhr.send();
//    }
//    document.getElementById("butt1").addEventListener("click", getName);

    function getName(e){
      e.preventDefault();
      const name = document.getElementById("nameGetForm").value;
      const xhr = new XMLHttpRequest();
      xhr.open('GET', 'process.php?name=' + name, true);

      xhr.onload = function(){
        console.log(this.responseText);
      }
      xhr.send();
    }

    function postName(e){
      e.preventDefault();

      const name = document.getElementById("namePostForm").value;
      const xhr = new XMLHttpRequest();
      const params = 'name=' +name

      xhr.open('POST', 'process.php', true);
      xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

      xhr.onload = function(){
        console.log(this.responseText);
      }
      xhr.send(params);
    }


    document.getElementById("getForm").addEventListener("click", getName);
    document.getElementById("postForm").addEventListener("click", postName);






  </script>

</html>
